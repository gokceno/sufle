# Sufle CLI Environment Variables
# Copy this file to .env and update with your settings

# Logging configuration
LOG_LEVEL=info
# Options: debug, info, warn, error
# Use debug to see detailed worker operations and tool calls

# Database configuration
DB_PATH=./db/db.sqlite
# Path to SQLite database file for CLI metadata

# Database migrations
DB_MIGRATIONS_APPLY=true
# Automatically apply database migrations on startup
# Set to false if API server handles migrations

# Configuration file path
CONFIG_PATH=./sufle.yml
# Path to YAML configuration file

# Configuration overrides via environment variables
# You can override any YAML configuration using the format: PARENT__CHILD__VALUE

# Example: Override backend API connection
# BACKEND__API_KEY=your-api-key-here
# BACKEND__BASE_URL=http://localhost:3000

# Example: Override embedding provider settings
# EMBEDDINGS__PROVIDER=google
# EMBEDDINGS__OPTS__MODEL=text-embedding-004
# EMBEDDINGS__OPTS__API_KEY=your-google-api-key

# Example: Override storage provider
# STORAGE__PROVIDER=local
# STORAGE__OPTS__URL=http://rclone:5572
# STORAGE__OPTS__USERNAME=admin
# STORAGE__OPTS__PASSWORD=password

# Example: Override schedule (use quotes for cron expressions)
# SCHEDULE__INDEX="*/10 * * * *"
# SCHEDULE__VECTORIZE="*/5 * * * *"
# SCHEDULE__REDUCE="0 * * * *"

# Worker-specific settings
# CONCURRENT_CHUNKS=8
# Maximum number of chunks to process concurrently in vectorize worker

# Production considerations:
# - Set LOG_LEVEL=warn or LOG_LEVEL=error in production
# - Use absolute paths for DB_PATH and CONFIG_PATH
# - Ensure BACKEND__BASE_URL points to production API server
# - Use environment variables for sensitive values (API keys)
# - Consider different schedules for different environments:
#   - Development: Frequent (every 1-5 minutes)
#   - Production: Less frequent (hourly/daily based on update frequency)
# - Monitor worker logs for errors and performance issues

# Docker considerations:
# When running in Docker, use container-appropriate paths:
# DB_PATH=/app/apps/cli/db/db.sqlite
# CONFIG_PATH=/app/apps/cli/sufle.yml
# BACKEND__BASE_URL=http://api:3000
